<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=yes, width=device-width, maximum-scale=1.0" />
<title>サッカー作戦ボード</title>
<script>

  window.onload = function(){
  var canvas = document.getElementById("canvas1");
  drawpitch();
  
//  canvas.addEventListener("mousedown", placeMarker, false);
  canvas.addEventListener("dblclick", placeMarker, false); 
  }


  function placeMarker(event){
  var canvas = document.getElementById("canvas1");
  var cvs = canvas.getContext("2d");

  cvs.save();
  
  cvs.shadowOffsetX=2;
  cvs.shadowOffsetY=2;
  cvs.shadowColor="#aaaaaa";
  cvs.shadowBlur=7;

  var grad = cvs.createRadialGradient(event.clientX,event.clientY,1,event.clientX,event.clientY,7);
  grad.addColorStop(0,"#7777ff");
  grad.addColorStop(1,"#7777ff");
//  grad.addColorStop(0,"#ff7777");
//  grad.addColorStop(1,"#ff7777");

  cvs.beginPath();
  cvs.arc(event.clientX-7, event.clientY-7, 7 , 0, Math.PI*2, false);
  cvs.stroke();
  cvs.fillStyle=grad;
  cvs.fill();

  cvs.restore();
 }





  function drawpitch(){
  var canvas = document.getElementById("canvas1");
  if(canvas.getContext){
  var cvs = canvas.getContext("2d");

  cvs.save();

//	canvas.width = window.innerWidth*0.95;
//	canvas.height = window.innerHeight*0.95;

  var cw = canvas.width;
  var ch = canvas.height;

  cvs.clearRect(0, 0, cw, ch);

  var xoff = cw*0.2;
  var pw = (cw - xoff*2);
  var ph = pw*68/50;

  var yoff = ch-ph*5/8-xoff;

  cvs.fillStyle="#f5f5f5";
  cvs.fillRect(0, 0, cw, ch);

  cvs.lineWidth=0.5;
//  cvs.lineCap="round";
  cvs.lineJoin="round";
  cvs.strokeStyle="#000000";

//Pitch for 8
  cvs.moveTo(xoff, ch-yoff-ph/2);
  cvs.lineTo(xoff, ch-yoff);
  cvs.lineTo(xoff+pw, ch-yoff);
  cvs.lineTo(xoff+pw, ch-yoff-ph/2)
  cvs.lineTo(xoff, ch-yoff-ph/2);
  cvs.lineTo(xoff, ch-yoff-ph*5/8);
  cvs.moveTo(xoff+pw, ch-yoff-ph/2);
  cvs.lineTo(xoff+pw, ch-yoff-ph*5/8);
//  cvs.fillStyle="#008000";
  cvs.stroke();


//Penalty Area
  cvs.moveTo(xoff+10.5/50*pw, ch-yoff);
  cvs.lineTo(xoff+10.5/50*pw, ch-yoff-12/50*pw);
  cvs.lineTo(xoff+39.5/50*pw, ch-yoff-12/50*pw);
  cvs.lineTo(xoff+39.5/50*pw, ch-yoff);

//Goal Area
  cvs.moveTo(xoff+18.5/50*pw, ch-yoff);
  cvs.lineTo(xoff+18.5/50*pw, ch-yoff-4/50*pw);
  cvs.lineTo(xoff+31.5/50*pw, ch-yoff-4/50*pw);
  cvs.lineTo(xoff+31.5/50*pw, ch-yoff);
  cvs.stroke();

//Goal
  cvs.strokeRect(xoff+22.5/50*pw, ch-yoff, 5/50*pw, 1/50*pw);

//Penalty Mark
  cvs.beginPath();
  cvs.arc(xoff+25/50*pw, ch-yoff-8/50*pw, 1, 0, Math.PI*2, false);
  cvs.stroke();
  cvs.fillStyle="#000000";
  cvs.fill();

//Penalty Arc
  cvs.beginPath();
  cvs.arc(xoff+25/50*pw, ch-yoff-8/50*pw, 7/50*pw , Math.PI*28.75/24, Math.PI*43.25/24, false);
  cvs.stroke();

//Center Circle
  cvs.beginPath();
  cvs.arc(xoff+pw/2,ch-yoff-ph/2, 7/50*pw , 0, Math.PI*2, false);
  cvs.stroke();

//Center Circle Mark
  cvs.beginPath();
  cvs.arc(xoff+pw/2,ch-yoff-ph/2, 2 , 0, Math.PI*2, false);
  cvs.stroke();
  cvs.fillStyle="#000000";
  cvs.fill();

//Corner Arc
  cvs.beginPath();
  cvs.arc(xoff,ch-yoff, 2/50*pw , Math.PI*3/2, Math.PI*2, false);
  cvs.stroke();

  cvs.beginPath();
  cvs.arc(xoff+pw,ch-yoff, 2/50*pw , Math.PI, Math.PI*3/2, false);
  cvs.stroke();

  cvs.restore();
}
}


</script>

<style type="text/css">
// #canvas1 {position: absolute; width: 100%; height: 100%; overflow: hidden}"
</style>

</head>

<body>
<canvas id="canvas1" width="800" height="800">
    canvasを表示できません
  </canvas>
</body>
</html>
